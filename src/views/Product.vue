<template lang="pug">
  #product
    #container.flex.row
      #productsrc.col-12.col-md-6
        b-img(:src="product.productsrc" fluid)
      #productName.text-left.col-12.col-md-6
        #123
        h4 {{product.sortName}}
        h1 {{product.productName}}
        br
        p NT${{product.productPrice}}
        b-button.cartStock(@click="addCart(product)" v-if="product.productStock>0" variant="dark")
          b-icon.text-warning(icon="cart-plus" font-scale="1.5")
          span.ml-1  Add To Cart
        b-button(@click="addCart(product)" v-else variant="dark" disabled)
          span.ml-1  Sold Out
        hr
        br
        p {{product.productDescription}}
        br
        p ğŸ”ºæ¡ç”¨å¾·åœ‹è»Ÿé™¶ï¼Œç’°ä¿æè³ª
        p ğŸ”ºä½æº«çƒ˜çƒ¤ã€ç„¡æ¯’ç„¡å‘³
        p ğŸ”ºé˜²æ°´ä¸æ‰è‰²ã€å …å›ºæœ‰å½ˆæ€§
        p ğŸ”º925ç´”éŠ€è€³é‡/è€³å¤¾å¯é¸æ“‡
        br
        p âš ï¸å•†å“ç‚ºæ‰‹å·¥è£½ä½œï¼Œè¡¨é¢æœ‰äº›å¾®æ‰‹ç´‹å£“ç—• ã€çƒ˜çƒ¤å‡ºçš„å°æ³¡æ³¡ï¼Œå±¬æ­£å¸¸ç¾è±¡ï¼Œé«˜æ¨™æº–è€…å‹¿ä¸‹å–®ã€‚
        p âš ï¸åœ¨é…æˆ´çš„éç¨‹ä¸­è«‹è¼•å·§é…æˆ´ï¼Œé¿å…ç¢°æ’ï¼Œä¸¦ä¸”ç›¡é‡é¿å…æ–¼æ´—æ¾¡ã€æ¸¸æ³³ã€æ³¡æº«æ³‰æ™‚é…æˆ´ã€‚
        //- #ddd
          b-icon(icon="heart" font-scale="1.5")

</template>

<script>
export default {
  data () {
    return {
      product: {
        sortName: '',
        productName: '',
        productPrice: '',
        productDescription: '',
        productStock: '',
        productsrc: '',
        productid: ''
      },
      count: ''
    }
  },
  computed: {
    id () {
      return this.$route.params.id
    }
  },
  mounted () {
    // this.axios.get(process.env.VUE_APP_APIURL + '/productDetail/' + this.id)
    //   .then(response => {
    //     const data = response.data
    //     if (data.success) {
    //       this.product.sortName = data.result.sortName
    //       this.product.productName = data.result.productName
    //       this.product.productPrice = data.result.productPrice
    //       this.product.productDescription = data.result.productDescription
    //       this.product.productStock = data.result.productStock
    //       this.product.productsrc = process.env.VUE_APP_APIURL + '/product/' + data.result.productsrc
    //       this.product.productid = data.result._id
    //     } else {
    //       alert(data.message)
    //     }
    //   })
    //   .catch((error) => {
    //     console.log(error)
    //     alert('ç™¼ç”ŸéŒ¯èª¤')
    //   })
  },
  methods: {
    addCart (data) {
      this.product.productStock = data.productStock - 1
      this.$store.commit('addCart', data)
    }
  }
}
</script>

<style lang="scss">
#product{
  .cartStock:hover{
    background: #ff9100;
    border:1px solid #ff9100;
    color: black;
  }

}
</style>
